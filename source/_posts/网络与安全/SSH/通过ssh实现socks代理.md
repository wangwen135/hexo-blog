---
title: 通过ssh实现socks代理
date: 2024-08-05 22:15
tags: 
  - SSH
  - Socks
  - 代理
categories:
  - [网络与安全, SSH]
---

## 通过SSH实现SOCKS代理

它允许你通过SSH隧道加密你的网络流量，并通过SSH服务器转发

### 用途

#### 安全访问：
在不安全的网络环境中，使用SSH隧道可以加密流量并保护隐私。

#### 绕过地理限制：
可以通过SSH隧道访问被地理位置限制的内容。

#### 测试和调试：
开发和测试应用程序时，可以使用SOCKS代理来模拟不同的网络环境。

----

设置SSH动态端口转发（SOCKS代理）的步骤如下：

### 1. 安装SSH客户端
确保你的计算机上安装了SSH客户端。大多数Unix-like系统（如Linux和macOS）都预装了SSH客户端。在Windows上，你可以使用PuTTY或者安装Windows的Linux子系统。

> 这里用Git Bash 实现

### 2. 连接到SSH服务器
使用以下命令连接到你的SSH服务器，并通过SSH建立SOCKS代理：

```
ssh -D 本地端口 用户名@ssh服务器地址

```

这里的本地端口是你希望在本地机器上监听的端口，用于SOCKS代理。用户名和ssh服务器地址是你在SSH服务器上的登录凭证。

如：
```
ssh -D 8080 user@ssh.example.com

ssh -D 8080 -N -f user@remote_server_ip

```
这个命令会在本地机器上开启一个监听在8080端口的SOCKS代理。

参数说明：
- -D 8080：指定本地端口8080作为SOCKS代理端口。
- -N：不执行远程命令，只进行端口转发。
- -f：后台运行SSH会话。



### 3. 配置你的应用程序或浏览器
一旦SSH隧道建立，你需要配置你的应用程序或浏览器使用这个SOCKS代理。

#### 对于浏览器：
- 在Chrome或Firefox中，你可以安装一个代理扩展，如"Proxy SwitchyOmega"，并设置SOCKS5代理为localhost，端口为8080。
- 在其他浏览器中，通常在设置中找到网络或代理设置，并手动配置SOCKS代理。

#### 对于其他应用程序：
查找应用程序的网络设置或代理设置，并配置SOCKS5代理为localhost，端口为8080。


### 4. 测试连接
现在，当你通过配置了SOCKS代理的应用程序或浏览器访问网络时，所有的流量都应该通过SSH隧道加密并转发。

如打开你的浏览器访问目标地址


